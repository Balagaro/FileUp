<!DOCTYPE html>
<html lang="hu">

<head>
    <meta charset="UTF-8">
    <title>FileUp</title>
    <link rel="icon" type="image/x-icon" href="docs/logo/favicon.ico">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/upload.css">
    <style>
        .out-circle{
            display: flex;
            border-radius: 8px;
            row-gap: 30px;
            flex-direction: column;
            align-items: center;
        }
        .in-circle{
            position: relative;
            height: 250px;
            width: 250px;
            border-radius: 50%;
            background: conic-gradient(#7d2ae8 3.6deg, #ededed00 0deg);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .in-circle::before{
            content: "";
            position: absolute;
            height: 210px;
            width: 210px;
            border-radius: 50%;
            background-color: #fff;
        }
        .progress{
            position: relative;
            font-size: 40px;
            font-weight: 600;
            color: #7d2ae8;
        }
    </style>
</head>

<body>

<div class="outer-container">
    <div class="inner-container">
        <div class="leftdiv">
            <div id="menuoszlop" class="menuoszlop">

            </div>

            <div class="dropdown" onclick="toggleMenu(this)">
                <div class="bar1"></div>
                <div class="bar2"></div>
                <div class="bar3"></div>
            </div>

        </div>

        <div class="maindiv">

            <div class="logoline"><a href="index.html">
                <img id="mainlogo" src="/docs/logo/fileuplogo.png" alt=FileUP></a>
            </div>

            <div class="out-box">
                <div class="box">
                    <div class="in-box">

                        <div class="backbutton">
                            <a href="index.html"><img src="/docs/assets/backwards.png" alt="Visszagomb">
                            </a>
                        </div>
                        <div class="topline">
                            <div class="innertopline">
                                <input id="codeline" value="Betöltés..." readonly>
                                <button onclick="Masolas()" id="copylink">
                                    másolás
                                </button>
                            </div>
                        </div>
                        <div class="outwaiting-box">
                            <div class="inwaiting-box" id="inwaiting">
                                <div class="waitingfor contbox active">
                                <label class="waitingtext" >
                                    Várakozás a csatlakozásra...
                                </label>

                                <label class="tick" >
                                    <img src="/docs/assets/tick.svg" alt="pipa">
                                </label></div>
                                <div class="readyfor contbox ">
                                    <label class="waitingtext" >
                                        Csatlakozva
                                    </label>
                                    <label class="tick" >
                                        <img class="tickgreen" src="/docs/assets/tick.svg" alt="pipa">
                                    </label></div>

                                <div class="fileok contbox ">

                                </div>
                            </div>

                        </div>

                        <div class="outdrag">
                            <section id="drop_zone" class="drop_zonec"><!--ondragover="dragOverHandler(event);"-->
                                <div class="dragthefiles"> <!--ondrop="dropHandler(event)" -->
                                    Húzza ide a fájlokat!
                                </div>

                                <div class="openfile">
                                    <label for="file-input" class="folder"><img src="/docs/assets/folder.svg" alt="Mappa"></label>
                                    <input  id="file-input"  type="file">
                                </div>

                            </section>
                        </div>


                    </div>
                </div>
            </div>


        </div>

        <div class="rightdiv">

            <div><a target=”_blank” href="https://discord.gg/9Gyp4gutVN"><img class="connection-logo"
                                                                              src="/docs/assets/connections/discord.png" alt=""></a></div>
            <div><a target=”_blank” href="https://github.com/Balagaro/FileUp"><img class="connection-logo"
                                                                                   src="/docs/assets/connections/github.png" alt=""></a></div>


        </div>

    </div>
</div>
<script type="text/javascript" src="socket.io/socket.io.js"></script>
<script type="text/javascript" src="code.js"></script>

<script>
    function toggleMenu(x) {
        x.classList.toggle("change");
        document.getElementById('menuoszlop').classList.toggle('activeoszlop');
    }

    function dragOverHandler(ev) {
        console.log("File(s) in drop zone");

        // Prevent default behavior (Prevent file from being opened)
        ev.preventDefault();
    }



    function Masolas(){
        // Get the text field
        let copyText = document.getElementById("codeline");

        // Select the text field
        copyText.select();
        copyText.setSelectionRange(0, 99999); // For mobile devices

        // Copy the text inside the text field
        navigator.clipboard.writeText(copyText.value);

        // Alert the copied text
        console.log("Copied the text: " + copyText.value);
    }

    function dropHandler(ev) {
        console.log("File(s) dropped");

        // Prevent default behavior (Prevent file from being opened)
        ev.preventDefault();

        if (ev.dataTransfer.items) {
            // Use DataTransferItemList interface to access the file(s)
            [...ev.dataTransfer.items].forEach((item, i) => {
                // If dropped items aren't files, reject them
                if (item.kind === "file") {
                    const file = item.getAsFile();
                    console.log(`… file[${i}].name = ${file.name}`);
                }
            });
        } else {
            // Use DataTransfer interface to access the file(s)
            [...ev.dataTransfer.files].forEach((file, i) => {
                console.log(`… file[${i}].name = ${file.name}`);
            });
        }
    }
    let circularProgress = document.querySelector(".in-circle");
    let progressValue = document.querySelector(".progress");

    let progress = setInterval(() => {
        circularProgress.style.background = `conic-gradient(#7d2ae8 ${progressValue * 3.6}deg, #ededed 0deg)`
    }, 100);

</script>
</body>

</html>