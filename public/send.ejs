<!DOCTYPE html>
<html lang="hu">

<head>
    <script src="modules/grub/src/redirection-mobile.js"></script>
    <script>
        SA.redirection_mobile ({
            mobile_url : "fileup.site/m/send/",
            mobile_prefix : "https"
        });
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>FileUp - Küldés</title>
    <link rel="icon" type="image/x-icon" href="docs/logo/favicon.ico">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/send.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WS5TP44M9P"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-WS5TP44M9P');
    </script>
</head>

<body onload="checkifcookies(document.querySelector('.block_cookies'),document.getElementById('modalbox'))">

<div class="block_pass">

</div>
<div class="block_cookies">

</div>
<div id="modalbox">
    <img src="./docs/images/cookies.png" class="cookies">
    <p>Az oldal optimális és jogszerű használata érdekében, az oldal sütiket és a felhasználó Internet Protocoll Address-ét használja fel. <br> <!--<a href="https://en.wikipedia.org/wiki/HTTP_cookie">More info...</a>--> </p>
    <div id="buttons">
        <button type="button" onclick="closeModal_accept(document.querySelector('.block_cookies'),document.getElementById('modalbox'))" >Elfogadás</button>
        <button type="button" onclick="closeModal_decline(document.querySelector('.block_cookies'),document.getElementById('modalbox'))">Elutasítás</button>
    </div>

</div>
<div class="outpass">
    <button id="passclose">x</button>
    <div class="inpass">
        <div class="passform" action="">
            <div class="passheader">Jelszós hitelesítés</div>
            <div class="passbar" ><input type="text" placeholder="Adjon meg egy jelszót!" id="pass1" name="pass1" size="10" > </div>
            <div class="passbar" ><input type="text" placeholder="Adja meg a jelszót mégegyszer!" id="pass2" name="pass2" size="10" > </div>
            <div id="status"></div>
            <div id="psub1" class="passsubmit">
                <label id="cpass1" for="submitpass" class="codeok">Ok</label>
                <input type="submitpass" id="submitpass"  value="OK">
            </div>
            <div id="psub2" class="passsubmit nonpass">
                <div id="cpass2" class="passok nonpass"><img class="keszpipa readytick" src="docs/assets/readytick.svg"></div>
            </div>
        </div>
    </div>
</div>

<div class="background"></div>
<div class="outer-container">
    <div class="inner-container">
        <div class="leftdiv">
            <div id="menuoszlop" class="menuoszlop">

            </div>

            <div class="dropdown" onclick="toggleMenu(this)">
                <div class="bar1"></div>
                <div class="bar2"></div>
                <div class="bar3"></div>
            </div>

        </div>

        <div class="maindiv">

            <div class="logoline"><a href="/">
                    <img id="mainlogo" src="/docs/logo/fileuplogo.png" alt=FileUP></a>
            </div>

            <div class="out-box">
                <div class="box">
                    <div class="in-box">

                        <div class="backbutton">
                            <a href="/"><img src="/docs/assets/backwards.png" alt="Visszagomb">
                            </a>
                        </div>
                        <div class="topline">
                            <div class="innertopline">
                                <div class="shorterdiv">
                                    <select name="auth" id="auth">
                                        <option value="default">Alap</option>
                                        <option value="simple">Egyszerű</option>
                                        <option value="difficult">Jelszó</option>
                                    </select>
                                </div>
                                <input id="codeline" value="Betöltés..." readonly>
                                <button onclick="unsecuredCopyToClipboard(document.getElementById('codeline').value)" id="copylink">
                                    másolás
                                </button>
                            </div>
                        </div>
                        <div class="outwaiting-box">
                            <div class="inwaiting-box" id="inwaiting">
                                <div class="waitingfor contbox active">
                                    <label class="waitingtext" >
                                        Várakozás a csatlakozásra...
                                    </label>

                                    <label class="tick" >
                                        <img src="/docs/assets/tick.svg" alt="pipa">
                                    </label></div>
                                <div class="readyfor contbox ">
                                    <label class="waitingtext" >
                                        Csatlakozva
                                    </label>
                                    <label class="tick" >
                                        <img class="tickgreen" src="/docs/assets/tick.svg" alt="pipa">
                                    </label></div>

                                <div class="fileok contbox ">

                                </div>
                            </div>

                        </div>

                        <div class="outdrag">
                            <section id="drop_zone" class="drop_zonec"><!--ondragover="dragOverHandler(event);"-->
                                <div class="dragthefiles"> <!--ondrop="dropHandler(event)" -->
                                    Húzza ide a fájlokat!
                                </div>

                                <div class="openfile">
                                    <label for="file-input" class="folder"><img src="/docs/assets/folder.svg" alt="Mappa"></label>
                                    <input  id="file-input"  type="file">
                                </div>

                            </section>
                        </div>


                    </div>
                </div>
            </div>


        </div>

        <div class="rightdiv">

            <div><a target=”_blank” href="https://discord.gg/9Gyp4gutVN"><img class="connection-logo"
                                                                              src="/docs/assets/connections/discord.png" alt=""></a></div>
            <div><a target=”_blank” href="https://github.com/Balagaro/FileUp"><img class="connection-logo"
                                                                                   src="/docs/assets/connections/github.png" alt=""></a></div>


        </div>

    </div>
</div>


<script type="text/javascript" src="modules/socket.io/client-dist/socket.io.js"></script>
<script type="text/javascript" src="js/send.js"></script>
<script src="js/checkcookies.js"></script>
<script>
    l_code=`<%= longcode %>`;
    let s_code=`<%= shortcode %>`;
    document.querySelector("#codeline").value=l_code;
    socket.emit("sender-join",{
        uid:l_code
    });
    function toggleMenu(x) {
        x.classList.toggle("change");
        document.getElementById('menuoszlop').classList.toggle('activeoszlop');
    }

    function dragOverHandler(ev) {
        ev.preventDefault();
    }



    function unsecuredCopyToClipboard(text) {
        const textArea = document.createElement("textarea");
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        try {
            document.execCommand('copy');
        } catch (err) {
            console.error('Unable to copy to clipboard', err);
        }
        document.body.removeChild(textArea);
        document.querySelector("#copylink").innerHTML=`<img class="keszpipa readytick" src="docs/assets/readytick.svg">`
    }


    function dropHandler(ev) {
        ev.preventDefault();
        if (ev.dataTransfer.items) {
            [...ev.dataTransfer.items].forEach((item, i) => {
                if (item.kind === "file") {
                    const file = item.getAsFile();
                }
            });
        } else {
            [...ev.dataTransfer.files].forEach((file, i) => {
            });
        }
    }


</script>
</body>

</html>